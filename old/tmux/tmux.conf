
# Basic settings {{{

# Set terminal
set -g default-terminal "screen-256color" # colors!
setw -g xterm-keys on
# Automatically renumber windows
set-option -g renumber-windows on


# Visual bell
set-window-option -g monitor-activity on
set -g visual-activity on

# Set terminal emulator window titles
set -g set-titles on
set -g set-titles-string "#T"

# Increase scrollback buffer size from the default 2000
set-option -g history-limit 10000

# Mouse Mode
set -g mouse on
set-option -g default-shell "/bin/zsh"
# }}}


# Key bindings {{{

# Remap prefix to Ctrl+a
set -g prefix C-a
bind-key a send-prefix

# Unbind Ctrl+Left and Ctrl+Right
set-window-option -g xterm-keys on
unbind-key -n C-Left
unbind-key -n C-Right

# Use vi style mode keys
set-window-option -g mode-keys vi

# Enter copy mode with <Prefix>Escape, <Prefix>/, or Ctrl+Home
bind-key Escape copy-mode
bind-key / copy-mode
bind-key -n C-Home copy-mode


# Don't attempt to copy to the terminal clipboard
set-option -g set-clipboard on 

# Move to previous/next session with Ctrl+F7 and Ctrl+F8
bind-key -n C-F7 switch-client -p
bind-key -n C-F8 switch-client -n



# Choose a session with e
bind-key e choose-session

# Move to previous/next window with F7 and F8
bind-key -n F7 previous-window
bind-key -n F8 next-window

# Swap windows with <
bind-key < command-prompt "swap-window -t '%%'"

# Swap panes using , and .
bind-key , resize-pane -U
bind-key . resize-pane -D
bind-key ] resize-pane -R
bind-key [ resize-pane -L


# Alt+<arrow key> pane swap
bind -n M-Left select-pane -L  
bind -n M-Right select-pane -R  
bind -n M-Up select-pane -U  
bind -n M-Down select-pane -D  

# pane resizing
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Reload the tmux config file with <Prefix>r
unbind r
bind r source-file ~/.tmux.conf


# Vim style new splits
unbind /
unbind -
bind - split-window -v
bind / split-window -h


# Create new windows
bind-key c new-window

# Session renaming
bind-key '$' command-prompt 'rename-session "%%"'

# Window renaming
bind-key A command-prompt 'rename-window "%%"'

# Bind <Prefix>Ctrl+L to clear screen
bind C-l send-keys 'C-l'

# Backup pane navigation keybindings for splits without tmux-aware vim
bind-key M-j swap-pane -D
bind-key M-k swap-pane -U

# }}}

# COLOUR (base16)

# default statusbar colors
set-option -g status-style "fg=#0c1017,bg=#383c4a"

# default window title colors
set-window-option -g window-status-style "fg=#0c1017,bg=default"

# active window title colors
set-window-option -g window-status-current-style "fg=#fdcc59,bg=default"

# pane border
set-option -g pane-border-style "fg=#383c4a"
set-option -g pane-active-border-style "fg=#41424b"

# message text
set-option -g message-style "fg=#ffffff,bg=#383c4a"

# pane number display
set-option -g display-panes-active-colour "#2ce592"
set-option -g display-panes-colour "#fdcc59"

# clock
set-window-option -g clock-mode-colour "#2ce592"

# copy mode highligh
set-window-option -g mode-style "fg=#0c1017,bg=#41424b"

# bell
set-window-option -g window-status-bell-style "fg=#383c4a,bg=#f02e6e"
# POWERLINE {{
set-option -g status on
set-option -g status-interval 2
set-option -g status-justify "centre"
set-option -g status-left-length 60
set-option -g status-right-length 90
set-option -g status-left "#(~/tmux-powerline/powerline.sh left)"
set-option -g status-right "#(~/tmux-powerline/powerline.sh right)"
set-window-option -g window-status-current-format "#[fg=colour235, bg=colour27]⮀#[fg=colour255, bg=colour27] #I ⮁ #W #[fg=colour27, bg=colour235]⮀"
bind C-[ run '~/path/to/tmux-powerline/mute_powerline.sh left'		# Mute left statusbar.
bind C-] run '~/path/to/tmux-powerline/mute_powerline.sh right'		# Mute right statusbar.

# }}
# PLUGINS {{{
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

set -g @continuum-boot 'on'
# }}}
# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.tmux/plugins/tpm/tpm'